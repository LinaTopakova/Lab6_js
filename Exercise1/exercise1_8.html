<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Квадратная матрица</title>
    <script>
        function generateRandomMatrix(n) {
            const matrix = [];
            for (let i = 0; i < n; i++) {
                const row = [];
                for (let j = 0; j < n; j++) {
                    row.push(Math.floor(Math.random() * 100)); 
                }
                matrix.push(row);
            }
            return matrix;
        }

        function displayMatrix(matrix) {
            let output = '';
            for (let row of matrix) {
                output += row.join(' ') + '\n';
            }
            alert(output);
        }

        function replaceDiagonals() {

            const n = parseInt(prompt("Введите n:"));

            if (isNaN(n) || n <= 0) {
                alert("Введите n>0");
                replaceDiagonals();
            }

            const matrix = generateRandomMatrix(n);
            displayMatrix(matrix); // До
            
            let min = Infinity, max = -Infinity;

            for (let i = 0; i < n; i++) {
                if (matrix[i][i] < min) {
                    min = matrix[i][i];
                }
                if (matrix[i][i] > max) {
                    max = matrix[i][i];
                }
                if (matrix[i][n - 1 - i] < min) {
                    min = matrix[i][n - 1 - i];
                }
                if (matrix[i][n - 1 - i] > max) {
                    max = matrix[i][n - 1 - i];
                }
            }

            for (let i = 0; i < n; i++) {
                if (matrix[i][i] !== min && matrix[i][i] !== max) {
                    matrix[i][i] = 0;
                }
                
                if (matrix[i][n - 1 - i] !== min && matrix[i][n - 1 - i] !== max) {
                    matrix[i][n - 1 - i] = 0;
                }
            }

            displayMatrix(matrix); // После
        }

    </script>
</head>
<body onload="replaceDiagonals()">
</body>
</html>
